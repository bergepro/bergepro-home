"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[49],{3330:function(e,t,n){n.r(t),n.d(t,{default:function(){return d}});var i=n(5893),o=n(7294),a=n(9477),s=n(9365),l=n(4594),r=n(1217);let c=()=>{let e=(0,o.useRef)(),[t,n]=(0,o.useState)(!0),c=(0,o.useRef)(),d=(0,o.useCallback)(()=>{let{current:t}=c,{current:n}=e;if(n&&t){let e=n.clientWidth,i=n.clientHeight;t.setSize(e,i)}},[]);return(0,o.useEffect)(()=>{let{current:t}=e;if(t){let e=t.clientWidth,i=t.clientHeight-150,o=new a.CP7({antialias:!0,alpha:!0});o.setPixelRatio(window.devicePixelRatio),o.setSize(e,i),o.outputEncoding=a.knz,t.appendChild(o.domElement),c.current=o;let l=new a.xsS,d=new a.Pa4(-.5,1.2,0),h=new a.Pa4(20*Math.sin(.2*Math.PI),10,20*Math.cos(.2*Math.PI)),u=.005*i+4.8,w=new a.iKG(-u,u,u,-u,.01,5e4);w.position.copy(h),w.lookAt(d);let f=new a.Mig(13421772,1);l.add(f);let p=new s.z(w,o.domElement);p.autoRotate=!0,p.target=d,(function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{receiveShadow:!0,castShadow:!0},{receiveShadow:i,castShadow:o}=n;return new Promise((n,a)=>{let s=new r.E;s.load(t,t=>{let a=t.scene;a.name="ghost",a.position.y=0,a.position.x=0,a.receiveShadow=i,a.castShadow=o,e.add(a),a.traverse(function(e){e.isMesh&&(e.castShadow=o,e.receiveShadow=i)}),n(a)},void 0,function(e){a(e)})})})(l,"/models/boo_glb.glb",{receiveShadow:!1,castShadow:!1}).then(()=>{M(),n(!1)});let m=null,v=0,M=()=>{if(m=requestAnimationFrame(M),(v=v<=100?v+1:v)<=100){let e=-Math.sqrt(1-Math.pow(v/120-1,4))*Math.PI*20;w.position.y=10,w.position.x=h.x*Math.cos(e)+h.z*Math.sin(e),w.position.z=h.z*Math.cos(e)-h.x*Math.sin(e),w.lookAt(d)}else p.update();o.render(l,w)};return()=>{cancelAnimationFrame(m),o.domElement.remove(),o.dispose()}}},[]),(0,o.useEffect)(()=>(window.addEventListener("resize",d,!1),()=>{window.removeEventListener("resize",d,!1)}),[d]),(0,i.jsx)(l.XW,{ref:e,children:t&&(0,i.jsx)(l.b,{})})};var d=c}}]);